## 10.3 React.memo와 컴포넌트 렌더링 최적화

memo로 부모 컴포넌트가 리렌더링 되더라도 자신이 받는 props가 변경되지 않으면 리렌더링되지 않도록 한다

다른 컴포넌트가 리렌더링될 때 헤더 컴포넌트도 리렌더링 되는 것을 방지하기 위해 header 컴포넌트에 memoized하여 export 한다

todoItems에도 적용하면 id, isDone, content 등의 props가 바뀌지 않는 이상 다시 렌더링되지 않는다.  

todos를 state가 변경되면 App 컴포넌트가 리렌더링되고 App 함수 내부에 onCreate, onUpdate 등의 함수들이 모두 다시 생성된다  

객체는 변수에 주소값으로 저장되고 비교되기 때문에 동일한 작동을 하는 객체(함수)가 새롭게 생성되어도 주소값이 다르기 때문에 다른 객체로 인식된다.  

memo 메서드는 얕은 비교로 이전의 props와 비교하기 때문에 객체 타입의 값을 비교하게 되면 항상 다르다는 결과가 나온다.  

따라서 객체 타입을 props로 가지는 컴포넌트는 memo 메서드만으로 최적화할 수 없다.   

최적화를 위해서 useCallback을 사용하거나 todoItem의 메모 함수에 콜백 함수를 두번째 인자로 전달해 최적화할 수 있다.

콜백 함수에서 반환값에 따라 props의 변경 유무를 판단하고, 변경되었다면 리렌더링하고, 변경되지 않았다면 그대로 둔다.  

컴포넌트를 인수를 받아 새로운 기능을 추가하여 반환하는 메서드를 HOC(고차 컴포넌트)라고 한다.  
복잡한 리액트 앱을 구축할 때 사용된다.  